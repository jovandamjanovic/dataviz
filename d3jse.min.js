var dataTables=[[{Name:"Tiger Nixon",Position:"System Architect",Office:"Edinburgh",Extension:5421,"Start Date":"2011/04/25",Salary:320800},{Name:"Garrett Winters",Position:"Accountant",Office:"Tokyo",Extension:8422,"Start Date":"2011/07/25",Salary:170750},{Name:"Ashton Cox",Position:"Junior Technical Author",Office:"San Francisco",Extension:1562,"Start Date":"2009/01/12",Salary:86e3},{Name:"Cedric Kelly",Position:"Senior Javascript Developer",Office:"Edinburgh",Extension:6224,"Start Date":"2012/03/29",Salary:433060},{Name:"Airi Satou",Position:"Accountant",Office:"Tokyo",Extension:5407,"Start Date":"2008/11/28",Salary:162700},{Name:"Brielle Williamson",Position:"Integration Specialist",Office:"New York",Extension:4804,"Start Date":"2012/12/02",Salary:372e3},{Name:"Herrod Chandler",Position:"Sales Assistant",Office:"San Francisco",Extension:9608,"Start Date":"2012/08/06",Salary:137500},{Name:"Rhona Davidson",Position:"Integration Specialist",Office:"Tokyo",Extension:6200,"Start Date":"2010/10/14",Salary:327900},{Name:"Colleen Hurst",Position:"Javascript Developer",Office:"San Francisco",Extension:2360,"Start Date":"2009/09/15",Salary:205500},{Name:"Sonya Frost",Position:"Software Engineer",Office:"Edinburgh",Extension:1667,"Start Date":"2008/12/13",Salary:103600},{Name:"Jena Gaines",Position:"Office Manager",Office:"London",Extension:3814,"Start Date":"2008/12/19",Salary:90560},{Name:"Quinn Flynn",Position:"Support Lead",Office:"Edinburgh",Extension:9497,"Start Date":"2013/03/03",Salary:342e3},{Name:"Charde Marshall",Position:"Regional Director",Office:"San Francisco",Extension:6741,"Start Date":"2008/10/16",Salary:470600},{Name:"Haley Kennedy",Position:"Senior Marketing Designer",Office:"London",Extension:3597,"Start Date":"2012/12/18",Salary:313500},{Name:"Tatyana Fitzpatrick",Position:"Regional Director",Office:"London",Extension:1965,"Start Date":"2010/03/17",Salary:385750},{Name:"Michael Silva",Position:"Marketing Designer",Office:"London",Extension:1581,"Start Date":"2012/11/27",Salary:198500},{Name:"Paul Byrd",Position:"Chief Financial Officer (CFO)",Office:"New York",Extension:3059,"Start Date":"2010/06/09",Salary:725e3},{Name:"Gloria Little",Position:"Systems Administrator",Office:"New York",Extension:1721,"Start Date":"2009/04/10",Salary:237500},{Name:"Bradley Greer",Position:"Software Engineer",Office:"London",Extension:2558,"Start Date":"2012/10/13",Salary:132e3},{Name:"Dai Rios",Position:"Personnel Lead",Office:"Edinburgh",Extension:2290,"Start Date":"2012/09/26",Salary:217500},{Name:"Jenette Caldwell",Position:"Development Lead",Office:"New York",Extension:1937,"Start Date":"2011/09/03",Salary:345e3},{Name:"Yuri Berry",Position:"Chief Marketing Officer (CMO)",Office:"New York",Extension:6154,"Start Date":"2009/06/25",Salary:675e3},{Name:"Caesar Vance",Position:"Pre-Sales Support",Office:"New York",Extension:8330,"Start Date":"2011/12/12",Salary:106450},{Name:"Doris Wilder",Position:"Sales Assistant",Office:"Sidney",Extension:3023,"Start Date":"2010/09/20",Salary:85600},{Name:"Angelica Ramos",Position:"Chief Executive Officer (CEO)",Office:"London",Extension:5797,"Start Date":"2009/10/09",Salary:12e5},{Name:"Gavin Joyce",Position:"Developer",Office:"Edinburgh",Extension:8822,"Start Date":"2010/12/22",Salary:92575},{Name:"Jennifer Chang",Position:"Regional Director",Office:"Singapore",Extension:9239,"Start Date":"2010/11/14",Salary:357650},{Name:"Brenden Wagner",Position:"Software Engineer",Office:"San Francisco",Extension:1314,"Start Date":"2011/06/07",Salary:206850},{Name:"Fiona Green",Position:"Chief Operating Officer (COO)",Office:"San Francisco",Extension:2947,"Start Date":"2010/03/11",Salary:85e4},{Name:"Shou Itou",Position:"Regional Marketing",Office:"Tokyo",Extension:8899,"Start Date":"2011/08/14",Salary:163e3},{Name:"Michelle House",Position:"Integration Specialist",Office:"Sidney",Extension:2769,"Start Date":"2011/06/02",Salary:95400},{Name:"Suki Burks",Position:"Developer",Office:"London",Extension:6832,"Start Date":"2009/10/22",Salary:114500},{Name:"Prescott Bartlett",Position:"Technical Author",Office:"London",Extension:3606,"Start Date":"2011/05/07",Salary:145e3},{Name:"Gavin Cortez",Position:"Team Leader",Office:"San Francisco",Extension:2860,"Start Date":"2008/10/26",Salary:235500},{Name:"Martena Mccray",Position:"Post-Sales support",Office:"Edinburgh",Extension:8240,"Start Date":"2011/03/09",Salary:324050},{Name:"Unity Butler",Position:"Marketing Designer",Office:"San Francisco",Extension:5384,"Start Date":"2009/12/09",Salary:85675}],[{first_name:"Michael",last_name:"Kennedy",salary:2494,"Start Work":"4/23/2016",gender:"Male",City:"Vydreno"},{first_name:"Joan",last_name:"Baker",salary:1732,"Start Work":"11/9/2015",gender:"Female",City:"Almafuerte"},{first_name:"Lisa",last_name:"Cunningham",salary:581,"Start Work":"8/10/2015",gender:"Female",City:"Xujiaqiao"},{first_name:"Mark",last_name:"Freeman",salary:9084,"Start Work":"7/9/2016",gender:"Male",City:"Copa"},{first_name:"Margaret",last_name:"Duncan",salary:9752,"Start Work":"11/28/2015",gender:"Female",City:"Subotica"},{first_name:"Jonathan",last_name:"Wheeler",salary:6541,"Start Work":"8/4/2015",gender:"Male",City:"Krasnaya Polyana"},{first_name:"Evelyn",last_name:"Greene",salary:5300,"Start Work":"3/17/2016",gender:"Female",City:"Ngorongoro"},{first_name:"Brandon",last_name:"Vasquez",salary:902,"Start Work":"10/11/2015",gender:"Male",City:"Valparaíso"},{first_name:"Terry",last_name:"Martinez",salary:6444,"Start Work":"10/17/2015",gender:"Male",City:"Az Zintān"},{first_name:"Gregory",last_name:"Schmidt",salary:2793,"Start Work":"1/5/2016",gender:"Male",City:"Sanfang"},{first_name:"Annie",last_name:"Howard",salary:9406,"Start Work":"8/20/2015",gender:"Female",City:"Yinghua"},{first_name:"Howard",last_name:"Torres",salary:3366,"Start Work":"9/16/2015",gender:"Male",City:"Tenggina Daya"},{first_name:"Amy",last_name:"Fowler",salary:7031,"Start Work":"11/15/2015",gender:"Female",City:"Dama"},{first_name:"Frances",last_name:"Kennedy",salary:7333,"Start Work":"3/5/2016",gender:"Female",City:"Cloyne"},{first_name:"Alice",last_name:"Little",salary:5982,"Start Work":"4/5/2016",gender:"Female",City:"Sergelen"},{first_name:"Peter",last_name:"Tucker",salary:3557,"Start Work":"1/6/2016",gender:"Male",City:"Dokshytsy"},{first_name:"Kenneth",last_name:"Mitchell",salary:5112,"Start Work":"5/24/2016",gender:"Male",City:"Ðà Lạt"},{first_name:"Henry",last_name:"Morales",salary:2472,"Start Work":"5/31/2016",gender:"Male",City:"General José de San Martín"},{first_name:"Christina",last_name:"Kelley",salary:463,"Start Work":"11/6/2015",gender:"Female",City:"Xinning"},{first_name:"Alice",last_name:"Porter",salary:5977,"Start Work":"6/20/2016",gender:"Female",City:"Ikata-chō"},{first_name:"Evelyn",last_name:"Sanchez",salary:5177,"Start Work":"11/26/2015",gender:"Female",City:"Almenara"},{first_name:"Stephen",last_name:"Lawson",salary:822,"Start Work":"5/25/2016",gender:"Male",City:"Neópolis"},{first_name:"Earl",last_name:"Gomez",salary:6255,"Start Work":"10/20/2015",gender:"Male",City:"Hudlice"},{first_name:"Barbara",last_name:"Romero",salary:7975,"Start Work":"9/19/2015",gender:"Female",City:"Maguling"},{first_name:"Edward",last_name:"Ross",salary:4578,"Start Work":"5/7/2016",gender:"Male",City:"Kōfu-shi"},{first_name:"Sean",last_name:"Alvarez",salary:853,"Start Work":"4/27/2016",gender:"Male",City:"Cana Chapetón"},{first_name:"Jeremy",last_name:"Lynch",salary:8560,"Start Work":"8/4/2015",gender:"Male",City:"San Rafael"},{first_name:"Adam",last_name:"Rogers",salary:4733,"Start Work":"3/31/2016",gender:"Male",City:"Ochobo"},{first_name:"Billy",last_name:"Morgan",salary:5767,"Start Work":"3/2/2016",gender:"Male",City:"Anling"},{first_name:"Jessica",last_name:"Lane",salary:3217,"Start Work":"1/2/2016",gender:"Female",City:"Xiangshan"},{first_name:"Kevin",last_name:"Carpenter",salary:7133,"Start Work":"5/24/2016",gender:"Male",City:"Nashville"},{first_name:"Shawn",last_name:"Rivera",salary:8408,"Start Work":"10/9/2015",gender:"Male",City:"Khelyulya"},{first_name:"Anna",last_name:"Grant",salary:2447,"Start Work":"7/17/2015",gender:"Female",City:"Zherdevka"},{first_name:"Annie",last_name:"Stewart",salary:9627,"Start Work":"1/13/2016",gender:"Female",City:"Saguday"},{first_name:"Carl",last_name:"Palmer",salary:7751,"Start Work":"8/7/2015",gender:"Male",City:"Joal-Fadiout"},{first_name:"Julia",last_name:"Griffin",salary:1257,"Start Work":"1/15/2016",gender:"Female",City:"Sampagar"},{first_name:"Mary",last_name:"Carpenter",salary:1798,"Start Work":"2/18/2016",gender:"Female",City:"Qingshui"},{first_name:"Jessica",last_name:"Reyes",salary:2297,"Start Work":"7/8/2016",gender:"Female",City:"Poligny"},{first_name:"Lori",last_name:"Patterson",salary:3295,"Start Work":"9/6/2015",gender:"Female",City:"Bethlehem"},{first_name:"Ashley",last_name:"Reynolds",salary:3254,"Start Work":"8/8/2015",gender:"Female",City:"Cikabuyutan Barat"},{first_name:"Betty",last_name:"Ryan",salary:2601,"Start Work":"3/15/2016",gender:"Female",City:"Chowki Jamali"},{first_name:"Thomas",last_name:"Evans",salary:411,"Start Work":"7/31/2015",gender:"Male",City:"Nueva Esperanza"},{first_name:"Mildred",last_name:"Lane",salary:1298,"Start Work":"12/17/2015",gender:"Female",City:"Roriz"},{first_name:"Albert",last_name:"Henderson",salary:7873,"Start Work":"2/13/2016",gender:"Male",City:"Luso"},{first_name:"Brandon",last_name:"Martinez",salary:9503,"Start Work":"9/1/2015",gender:"Male",City:"Calatrava"},{first_name:"Carol",last_name:"Miller",salary:5556,"Start Work":"7/21/2015",gender:"Female",City:"Trinidad"},{first_name:"Shirley",last_name:"Jackson",salary:6850,"Start Work":"10/26/2015",gender:"Female",City:"Sishilichengzi"},{first_name:"Steve",last_name:"Hart",salary:9211,"Start Work":"11/15/2015",gender:"Male",City:"Taurija"},{first_name:"Phyllis",last_name:"Bennett",salary:6641,"Start Work":"7/30/2015",gender:"Female",City:"Sułoszowa"},{first_name:"Judy",last_name:"Mendoza",salary:3689,"Start Work":"1/8/2016",gender:"Female",City:"Kampen (Overijssel)"}]],tableSelector=document.querySelector("#tableSelector");dataTables.forEach(function(e,a){var t=document.createElement("option");t.value=a,t.text="Table "+a,tableSelector.add(t,null)}),tableSelector.onchange=function(){compileData(dataTables[tableSelector.options[tableSelector.selectedIndex].value])},tableSelector.selectedIndex=-1;var renderData=function(e){var a=.8*document.querySelector("#mainViz").offsetWidth,t=.4*document.querySelector("#mainViz").offsetHeight,r=20,n=d3.scaleOrdinal(d3.schemeCategory10),i=d3.format(",.0f"),l={top:10,right:30,bottom:30,left:30};if(d3.select("#graph").selectAll("*").remove(),d3.select("#tableData").selectAll("*").remove(),"text"===e.fieldType){if(e.length<11){var o=d3.scaleLinear().domain([0,1.1*d3.max(e,function(e){return e.value})]).range([0,a]),s=d3.select("#graph").attr("width",a+l.left+l.right).attr("height",t+l.top+l.bottom).append("g").attr("transform","translate("+l.left+","+l.top+")"),m=s.selectAll("g").data(e).enter().append("g"),d=m.append("rect").attr("height",r-1),f=m.append("text").attr("y",r/2).attr("dy",".5em");m.exit().remove(),m.attr("transform",function(e,a){return"translate(0,"+a*r+")"}),d.attr("width",function(e){return o(e.value)}).attr("fill",function(e,a){return n(a)}),f.attr("x",function(e){return o(e.value)-3}).text(function(e){return e.key});var y=d3.select("#tableData").append("table"),c=y.append("thead").append("tr"),S=y.append("tbody");c.append("th").text(e.fieldName),c.append("th").text("N"),c.append("th").text("%");var g=S.selectAll("tr").data(e).enter().append("tr"),u=d3.sum(e,function(e){return e.value});g.append("td").text(function(e){return e.key}),g.append("td").text(function(e){return e.value}),g.append("td").text(function(e){return(e.value/u*100).toFixed(2)+"%"})}}else{var h=8,_=d3.scaleLinear().domain([0,h]).range([0,d3.max(e)]),p=d3.range(h+1).map(_),o=d3.scaleLinear().range([0,a]).domain([0,d3.max(e)]),h=d3.histogram().domain(o.domain()).thresholds(p)(e),C=d3.scaleLinear().domain([0,d3.max(h,function(e){return e.length})]).range([t,0]),s=d3.select("#graph").attr("width",a+l.left+l.right).attr("height",t+l.top+l.bottom).append("g").attr("transform","translate("+l.left+","+l.top+")"),m=s.selectAll(".bar").data(h).enter().append("g").attr("transform",function(e){return"translate("+o(e.x0)+","+C(e.length)+")"});m.append("rect").attr("x",1).attr("fill",function(e,a){return n(a)}).attr("width",o(h[0].x1)-o(h[0].x0)-1).attr("height",function(e){return t-C(e.length)}),m.append("text").attr("fill","#fff").attr("font","10px sans-serif").attr("dy",".75em").attr("y",6).attr("x",(o(h[0].x1)-o(h[0].x0))/2).attr("text-anchor","middle").text(function(e){return i(e.length)}),s.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+t+")").call(d3.axisBottom(o).tickValues(p))}},compileData=function(e){for(var a=e[0],t={},r=document.querySelector("#numeric"),n=document.querySelector("#date"),i=document.querySelector("#text");r.firstChild;)r.removeChild(r.firstChild);for(;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)i.removeChild(i.firstChild);Object.keys(a).forEach(function(l){"use strict";var o=document.createElement("a");o.innerText=l,o.href="/",t[l]=e.map(function(e){return e[l]}),"number"==typeof a[l]?(r.appendChild(o),t[l].fieldType="numeric"):Number.isNaN(Date.parse(a[l]))?(t[l]=d3.nest().key(function(e){return e}).rollup(function(e){return e.length}).entries(t[l]),i.appendChild(o),t[l].fieldType="text"):(n.appendChild(o),t[l].fieldType="date"),o.onclick=function(){renderData(t[l])},o.parentNode.insertBefore(document.createElement("br"),o.nextSibling),t[l].fieldName=l})};